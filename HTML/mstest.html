<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="../CSS/mstest.css" />
		<link rel="stylesheet" href="mystyle.css" />
		<title>MS-test.html</title>
		<style>
			/* CSS styles here */
		</style>
	</head>
	<body>
		<!-- Search input field -->
		<input type="text" id="searchInput" onkeyup="filterItems()" placeholder="Search..." />

		<!-- Dropdown container -->
		<div id="dropdown" class="dropdown-content"></div>

		<script>
			// JS code (mstest.js) here
			// Array of items
			// Array of items
			var items = [
				"TheMurderer-crop",
				"TreesByTheSea-crop",
				"TwoWomenByTheVerandaSteps-crop",
				"TwoWomenIntheGarden-crop",
				"UninvitedGuests-crop",
				"WavesAgainstTheShore-crop",
			]; // Updated array of items

			// Function to generate the dropdown items
			function generateDropdownItems() {
				var dropdown = document.getElementById("dropdown");
				dropdown.innerHTML = ""; // Clear previous items

				var fragment = document.createDocumentFragment(); // Create a DocumentFragment to hold the items

				for (var i = 0; i < items.length; i++) {
					var item = items[i];
					var link = document.createElement("a"); // Create an <a> element
					link.href = "#"; // Set the href attribute to "#"
					link.innerText = item; // Set the text content of the link to the current item
					link.addEventListener("click", function (e) {
						// Add a click event listener to the link
						e.preventDefault(); // Prevent the default link behavior
						var selectedItem = this.innerText; // Get the selected item
						document.getElementById("searchInput").value = selectedItem; // Set the search input value
						filterItems(); // Filter the items based on the selected value
					});
					fragment.appendChild(link); // Append the link to the DocumentFragment
				}

				dropdown.appendChild(fragment); // Append the DocumentFragment to the dropdown
			}

			// Function to filter the items based on search input
			function filterItems() {
				var input, filter, dropdown, items, a, i;
				input = document.getElementById("searchInput");
				filter = input.value.toUpperCase();
				dropdown = document.getElementById("dropdown");
				items = dropdown.getElementsByTagName("a");

				for (i = 0; i < items.length; i++) {
					a = items[i];
					if (a.innerText.toUpperCase().indexOf(filter) > -1) {
						a.style.display = ""; // Show the item
					} else {
						a.style.display = "none"; // Hide the item
					}
				}

				if (filter.length > 0) {
					dropdown.classList.add("show"); // Show the dropdown
				} else {
					dropdown.classList.remove("show"); // Hide the dropdown
				}
			}

			// Function to select an item
			function selectItem(item) {
				document.getElementById("searchInput").value = item;
				document.getElementById("dropdown").classList.remove("show");
			}

			// Close the dropdown when clicking outside
			window.onclick = function (event) {
				if (!event.target.matches("#searchInput")) {
					var dropdowns = document.getElementsByClassName("dropdown-content");
					for (var i = 0; i < dropdowns.length; i++) {
						var openDropdown = dropdowns[i];
						if (openDropdown.classList.contains("show")) {
							openDropdown.classList.remove("show");
						}
					}
				}
			};

			// Add event listener to the search input field
			document.getElementById("searchInput").addEventListener("keyup", filterItems);

			// Generate initial dropdown items
			generateDropdownItems();
		</script>
	</body>
</html>
